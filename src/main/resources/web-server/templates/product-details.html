<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Product Details || Jatdigit</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Place favicon.ico in the root directory -->
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/favicon.ico}">

    <!-- Bootstrap Fremwork Main Css -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <!-- All Plugins css -->
    <link rel="stylesheet" th:href="@{/css/plugins.css}">
    <!-- Theme shortcodes/elements style -->
    <link rel="stylesheet" th:href="@{/css/shortcode/shortcodes.css}">
    <!-- Theme main style -->
    <link rel="stylesheet" th:href="@{/style.css}">
    <!-- Responsive css -->
    <link rel="stylesheet" th:href="@{/css/responsive.css}">

    <!-- Modernizr JS -->
    <script th:src="@{/js/vendor/modernizr-2.8.3.min.js}"></script>
</head>

<body>
    <!-- Body main wrapper start -->
    <div class="wrapper fixed__footer">
        <div th:replace="header.html :: header"></div>
        <div class="body__overlay"></div>
              <!-- Start Offset Wrapper -->
        <div class="offset__wrapper">
            <!-- Start Search Popap -->
            <div class="search__area">
                <div class="container" >
                    <div class="row" >
                        <div class="col-md-12" >
                            <div class="search__inner">
                                <form action="#" method="get">
                                    <input placeholder="Search here... " type="text">
                                    <button type="submit"></button>
                                </form>
                                <div class="search__close__btn">
                                    <span class="search__close__btn_icon"><i class="zmdi zmdi-close"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Search Popap -->
             <!-- Start Cart Panel -->
           <div class="shopping__cart">
                <div class="shopping__cart__inner">
                 	<div class="off__contact">
                        <p> No esperes más para obtener uno de nuestros productos...
                          <br> ¡Finaliza tu compra accediendo al carrito! </p>
                    </div>
                    <div class="offsetmenu__close__btn">
                        <a href="#"><i class="zmdi zmdi-close"></i></a>
                    </div>                 
                    <ul class="shopping__btn">
                        <li><a th:href="@{/cart}">Ver Carrito</a></li>
                    </ul>
                </div>
            </div>
            <!-- End Cart Panel -->
        </div>
        <!-- End Offset Wrapper -->
        <!-- Start Product Details -->
        <section class="htc__product__details pt--200 pb--100 bg__white">
	            <div class="container">
	                <div class="row">
	                    <div class="col-md-12 col-lg-6 col-sm-12">
	                        <div class="product__details__container">
	                            <!-- Start Small images -->
	                            <ul class="nav product__small__images" role="tablist">
	                                <li role="presentation" class="pot-small-img active">
	                                    <a href="#img-tab-1" role="tab" data-toggle="tab">
	                                        <img th:src="@{'/images/products/small/' + ${product.name}
	                                        + '.jpg'}"
	                                         alt="small-image"
	                                         style="width:200px;height:140px">
	                                    </a>
	                                </li>
	                                <li role="presentation" class="pot-small-img">
	                                    <a href="#img-tab-2" role="tab" data-toggle="tab">
	                                         <img th:src="@{'/images/products/small/' + ${product.name}
	                                        + '-2.jpg'}"
	                                        alt="small-image"
	                                        style="width:300px;height:140px">
	                                    </a>
	                                </li>
	                            </ul>
	                            <!-- End Small images -->
	                            <div class="product__big__images">
	                                <div class="portfolio-full-image tab-content">
	                                    <div role="tabpanel" class="tab-pane active" id="img-tab-1">
	                                        <img th:src="@{'/images/products/big/' + ${product.name}
	                                        + '.jpg'}"
	                                         alt="full-image"
	                                         style="width:800px;height:400px">
	                                    </div>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="col-md-12 col-lg-6 col-sm-12 smt-30 xmt-30">
	                        <div class="htc__product__details__inner">
	                        	<div class="product__details">
                               		<h2><a th:href="@{'/collections/' + ${product.collection}}">
                               		<p style="color:grey;" th:text="'/ ' + ${product.collection} + ' collection'">
                               		</p></a></h2>
                             	</div>
	                            <div class="pro__detl__title">
	                                <h2 th:text="${product.title}"></h2>
	                            </div>
	                            <div class="pro__details">
	                                <p th:text="${product.description}"></p>
	                            </div>
	                            <ul class="pro__dtl__prize">
	                                <li th:text="${product.price} + '€'"></li>
	                            </ul>
	                            <div class="product-action-wrap">
	                                <div class="product-quantity">          	
	                                    <form class="myForm" action='/cart/add/' onsubmit="return validateForm()">
	                                        <div class="product-quantity">
	                                         		<label for="box">Cantidad:</label>
	                                                <input type="text" id="box" name="quantity" th:placeholder="'máx disponible: ' + ${product.quantity}">	
	                                                <input type= "hidden" name="name" th:value= "${product.name}">
	                                                <br></br>		                                                                                                 
	                                            	<button class="button_add" type="submit" id="add">Añadir Producto</button>
	                                        </div>	                                                                
	                                    </form>                                    
	                                        <script type="text/javascript" th:inline="javascript">	 
	                                		function validateForm() {
                                        			var x = document.getElementById("box").value;                  			
                                        			var quantityAvailable = /*[[${product.quantity}]]*/;
                                        			var y = parseInt(x);
                                        			if (y > 0 && y <= quantityAvailable) {
                                        				document.getElementById("add").innerHTML="¡Producto añadido!"
                                        				return true;
                                        			}     
                                        			else if (y > quantityAvailable) {
                                        			    alert("No disponemos de tantas unidades. Seleccione otra cantidad.");
                                        				return false;              			
                                        			}
                                        			else if (y == 0) {
                                        			    alert("Debe introducir una cantidad mayor que 0.");
                                        				return false;              			
                                        			}
                                        			else {
                                        			    alert("Cantidad errónea.");                                        			
                                        				return false;
                                        			}
                                        	} 
	                                		</script>               
	                                </div>
	                            </div>
	                             <ul class="pro__dtl__btn">
	                                <li><a href="#"><span class="ti-heart"></span></a></li>
	                                <li><a href="#"><span class="ti-email"></span></a></li>                             
	                            </ul>
	                        </div>
	                    </div>
	                </div>
	            </div>
        </section>
        <!-- End Product Details -->
        <!-- Start Product tab -->
        <section class="htc__product__details__tab bg__white pb--60">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 col-lg-12 col-sm-12">
                        <ul class="nav product__deatils__tab mb--60" role="tablist">
                            <li role="presentation" class="active">
                                <a class="active" href="#description" role="tab" data-toggle="tab">Descripción</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="product__details__tab__content">
                            <!-- Start Single Content -->
                            <div role="tabpanel" id="description" class="product__tab__content active">
                                <div class="product__description__wrap">
                                    <div class="product__desc">
                                        <h2 class="title__6">Detalles</h2>
                                        <p th:text="${product.details}"></p>
                                    </div>
                                     <div class="product__desc">
                                        <h2 class="title__6">Tamaño</h2>
                                        <p th:text="${product.measure}"></p>
                                    </div>
                                </div>
                            </div>
                            <!-- End Single Content -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End Product tab -->
        <div th:replace="footer.html :: copy"></div>
    </div>
    <!-- END QUICKVIEW PRODUCT -->
    <!-- Placed js at the end of the document so the pages load faster -->

    <!-- jquery latest version -->
    <script th:src="@{/js/vendor/jquery-1.12.4.min.js}"></script>
    <!-- Bootstrap Framework js -->
    <script th:src="@{/js/popper.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <!-- All js plugins included in this file. -->
    <script th:src="@{/js/plugins.js}"></script>
    <!-- Main js file that contents all jQuery plugins activation. -->
    <script th:src="@{/js/main.js}"></script>

</body>

</html>
